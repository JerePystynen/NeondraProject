<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neondra Control Panel</title>
    <link rel="shortcut icon" href="https://neondra.com/neondra/assets/images/logo/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">

    <link rel="stylesheet" href="./sliders.css">
    <link rel="stylesheet" href="./audioplayer.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css">
    <script src="./audioplayer.js" defer></script>

    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three/build/three.module.js",
            "three/addons/": "https://unpkg.com/three/examples/jsm/"
        }
    }
    </script>
</head>

<body class="flex-wrap">

    <svg class="svg-element top-svg-element" width="1920" viewBox="0 0 1921 131" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path d="M116.261 130.176H0V3.05176e-05H1921V130.176H1803.84L1674.5 41.0785H208.045L116.261 130.176Z"
            fill="#261d46" />
    </svg>
    <svg class="svg-element bottom-svg-element" width="1920" viewBox="0 0 1921 165" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
            d="M116.73 34.8241H0.5V165H1921V34.8241H1803.87L1705.61 92.8643H1244.69L1120.07 0H781.361L656.743 92.8643H177.442L116.73 34.8241Z"
            fill="#261d46" />
    </svg>

    <!-- <nav>
            <span>Welcome to Neondra's control panel v2.3, powered by an ESP8266!</span>
        </nav> -->

    <section>
        <div class="status-info-container">
            <div class="item">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span class="circle f"></span> <!-- Solid by percentage 1-100 -->
                <span>Battery</span>
                <span class="status" id="status-battery-percentage">64 %</span>
                <span id="status-battery-remaining">2.3 h</span>
            </div>
            <div class="item">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span class="circle f"></span> <!-- Solid by percentage 1-100 -->
                <span>Volts</span>
                <span class="status" id="status-battery-voltage">11.2</span>
                <span>V</span>
            </div>
            <div class="item">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span class="circle f"></span> <!-- Solid by percentage 1-100 -->
                <span>Amps</span>
                <span class="status" id="status-battery-amperage">1249</span>
                <span>mAh</span>
            </div>
            <div class="item">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span class="circle f"></span> <!-- Solid by percentage 1-100 -->
                <span>Volume</span>
                <span class="status" id="status-audiofile-volume">35 %</span>
                <span id="status-audiofile-volume-decibels">-2 dB</span>
            </div>
        </div>
        <div class="status-connections-container">
            <div class="item" title="Status: Connected" connected="true">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span>Torso</span>
            </div>
            <div class="item" title="Status: Disconnected" connected="false">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span>Wings</span>
            </div>
            <div class="item" title="Status: Connected" connected="true">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span>Claws</span>
            </div>
            <div class="item" title="Status: Disconnected" connected="false">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span>Legs</span>
            </div>
            <div class="item" title="Status: Disconnected" connected="false">
                <span class="circle a"></span> <!-- Blurry halo -->
                <span class="circle b"></span> <!-- Dual-ring solid -->
                <span class="circle c"></span> <!-- Dual-ring solid -->
                <span class="circle d"></span> <!-- Dotted -->
                <span class="circle e"></span> <!-- Blurry halo -->
                <span>Spitfire</span>
            </div>
        </div>
    </section>

    <div class="controls-container">
        <div class="sliders" style="display: flex;">
            <!-- 1x Whole Suit Brightness slider -->
            <div class="sexy-slider">
                <input type="range" name="" id="" min="0" max="100" value="50">
                <div class="sliding-element"></div>
                <span class="value">50%</span>
                <h4>Suit Brightness</h4>
            </div>
            <!-- 1x Volume slider -->
            <div class="sexy-slider">
                <input type="range" name="" id="" min="0" max="100" value="50">
                <div class="sliding-element"></div>
                <span class="value">50%</span>
                <h4>Suit Volume</h4>
            </div>
            <!-- 1x Empty slider -->
            <div class="sexy-slider">
                <input type="range" name="" id="" min="0" max="100" value="50">
                <div class="sliding-element"></div>
                <span class="value">50%</span>
                <h4>Empty Slider</h4>
            </div>
            <!-- 1x Wing Position slider -->
            <div class="sexy-slider">
                <input type="range" min="0" max="100" value="50" id="set-wings">
                <div class="sliding-element"></div>
                <span class="value">50%</span>
                <h4>Wing Position</h4>
            </div>
        </div>
        <div class="radios">
            <!-- Set Mic: Off, Modulated Playback, Normal Playback -->
            <div class="sexy-radio">
                <div>
                    <span>Off</span>
                    <span>Dragon</span>
                    <span>Normal</span>
                </div>
                <div>
                    <input type="radio" value="1">
                    <input type="radio" value="2">
                    <input type="radio" value="3">
                </div>
            </div>
            <!-- Set Fan speed: Off, Slow, Fast -->
            <div class="sexy-radio">
                <div>
                    <span>Off</span>
                    <span>Slow</span>
                    <span>Fast</span>
                </div>
                <div>
                    <input type="radio" value="1">
                    <input type="radio" value="2">
                    <input type="radio" value="3">
                </div>
            </div>

        </div>

    </div>

    <!-- Set color theme: Default, Rave, Happy, Cute, Angry, Swag -->
    <div class="sexy-radio wide" style="position: absolute; left: 50%; bottom: 2%; transform: translateX(-50%);">
        <div>
            <span>Default</span>
            <span>Rave</span>
            <span>Happy</span>
            <span>Cute</span>
            <span>Angry</span>
            <span>Swag</span>
        </div>
        <div>
            <input type="radio" value="1">
            <input type="radio" value="2">
            <input type="radio" value="3">
            <input type="radio" value="4">
            <input type="radio" value="5">
            <input type="radio" value="6">
        </div>
    </div>

    <div class="container sexy-music-player">
        <div class="audio-player">
            <div class="img">
                <img src="img/one.jpg" alt="">
            </div>
            <div class="audio-name">
                <h1>4am - KaizanBlue</h1>
            </div>
            <nav>
                <button class="backwardBtn">
                    <i class="fas fa-backward"></i>
                    <!-- its there but the color for all the elements is white -->
                </button>
                <button class="playBtn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="forwardBtn">
                    <i class="fas fa-forward"></i>
                </button>
                <button class="musicListBtn">
                    <i class="fas fa-list"></i>
                </button>
            </nav>
            <div class="bar">
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <audio src="audio/4am - KaizanBlu.mp3"></audio>
                <div class="time">
                    <p class="audioCurrentTime">00:00</p>
                    <p class="fullLength">00:00</p>
                </div>
            </div>
        </div>
        <div class="music-list">
            <nav>
                <button class="disabled">
                    <i class="fas fa-list"></i>
                    Music List
                </button>
                <button class="xBtn">
                    <i class="fas fa-times"></i>
                </button>
            </nav>
            <div class="list">
                <div class="item-container">
                    <div class="item">
                        <div class="coverImg">
                            <img src="img/one.jpg" alt="">
                        </div>
                        <div class="info">
                            <h3>4am - KaizanBlue</h3>
                        </div>
                    </div>
                </div>
                <!-- like this  -->
            </div>
        </div>
    </div>

    <script>
        function toggleFullScreen() {
            var doc = window.document;
            var docEl = doc.documentElement;
            var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
            var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;
            if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
                requestFullScreen.call(docEl);
            } else {
                cancelFullScreen.call(doc);
            }
        }

        // AJAX Requests
        function sendData(data) {
            fetch('/ajax', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: 'plain=' + encodeURIComponent(data),
            }).then(response => response.text()).then(result => {
                console.log('Server response:', result);
            }).catch(error => {
                console.error('Error:', error);
            });
        }

        function playAudio(audioFile) {
            sendData(`play-audio=${audioFile}`);
        }

        const statusBatteryPercentageText = document.getElementById('status-battery-percentage');
        const statusBatteryAmperageText = document.getElementById('status-battery-amperage');
        const statusBatteryVoltageText = document.getElementById('status-battery-voltage');
        const statusAudiofileVolumeText = document.getElementById('status-audiofile-volume');
        function setStatusBatteryPercentage(value) {
            statusBatteryPercentageText.innerText = `${Math.round(value)} %`;
        }
        function setStatusBatteryAmperage(value) {
            statusBatteryAmperageText.innerText = `${Math.round(value)}`;
        }
        function setStatusBatteryVoltage(value) {
            statusBatteryVoltageText.innerText = `${Math.round(value * 10) / 10}`;
        }
        function setStatusAudiofileVolume(value) {
            statusAudiofileVolumeText.innerText = `${Math.round(value)} %`;
        }
        var statusLoopIndex = 0;
        function statusLoop() {
            setTimeout(() => {
                setStatusBatteryPercentage(62 + Math.random() * 6);
                setStatusBatteryAmperage(Math.random() * 1000);
                setStatusBatteryVoltage(9 + Math.random() * 3);
                setStatusAudiofileVolume(Math.random() * 100);
                if (statusLoopIndex < Infinity) statusLoop();
            }, 140);
        }
        statusLoop();

        /// SLIDERS
        // Set each Slider
        Array.from(document.getElementsByClassName('sexy-slider')).forEach(element => {
            element.getElementsByTagName('input')[0].oninput = function (event) {
                element.children[1].style.height = `${this.value}%`;
                element.children[2].innerText = `${this.value}%`;
            }
        });
        // Set each Radio
        Array.from(document.getElementsByClassName('sexy-radio')).forEach(element => {
            Array.from(element.getElementsByTagName('input')).forEach(radio => {
                radio.onclick = function (event) {
                    element.setAttribute('value', radio.value);
                }
            });
        });
        /// END SLIDERS
    </script>
    <!-- THREE.JS -->
    <script type="module" src="./three.js"></script>
</body>
<footer>
    <a onclick="toggleFullScreen();" class="button-fullscreen">
        <img src="./img/fullscreen.png" alt="Go Fullscreen" title="Go Fullscreen">
    </a>
</footer>

</html>