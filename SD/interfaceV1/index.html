<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neondra Control Panel</title>
    <link rel="icon" type="image/x-icon" href="https://neondra.com/neondra/assets/images/logo/favicon.png">
    <link rel="stylesheet" href="./style.css">
</head>
<body class="flex-wrap">
    <section>
        <div>
            <div>
                <span id="status-suit-mode">Mode: -</span>
                <span id="status-audiofile-playing">Playing: -</span>
                <span id="status-audiofile-volume">Volume: - %</span>
                <span id="status-battery-percentage">Battery: - %</span>
                <span id="status-battery-voltage">Volts: - V</span>
                <span id="status-battery-amperage">Amps: - A</span>
                <span id="status-battery-remaining">Rem: - h</span>
            </div>
            <div>
                <span id="status-torso-connected">Torso: Disconnected</span>
                <span id="status-wings-connected">| Wings: Disconnected</span>
                <span id="status-claws-connected">| Claws: Disconnected</span>
                <span id="status-legs-connected">| Legs: Disconnected</span>
            </div>
            <div>
                <span id="status-spitfire-connected">Spitfire: Disconnected</span>
            </div>
        </div>
    </section>
    <section class="split-left flex-wrap">
        <div>
            <div class="flex-wrap">
                <h2>Suit Mode:</h2>
                <a class="button icon flex" selected="false" onclick="sendData('set-helmet=default');"><img src="./img/default.png" alt="Default" title="Default"></a>
                <a class="button icon flex" selected="false" onclick="sendData('set-helmet=love');"><img src="./img/love.png" alt="Love" title="Love"></a>
                <a class="button icon flex" selected="false" onclick="sendData('set-helmet=fury');"><img src="./img/fury.png" alt="Fury" title="Fury"></a>
                <a class="button" selected="true" onclick="sendData('set-helmet=wink');">Wink</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=sad');">Sad</a>
            </div>
            <div class="flex-wrap">
                <h2>Helmet Display:</h2>
                <a class="button" selected="false" onclick="sendData('set-helmet=vumeter');">Music Visualizer</a>
                <a class="button" selected="true" onclick="sendData('set-helmet=datetime');">Datetime</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=subcount');">Subcount</a>
                <a class="button" selected="false" onclick="sendData('set-animation-playstate=true');">Play Animation</a>
                <a class="button" selected="false" onclick="sendData('set-animation-playstate=false');">Stop Animation</a>
            </div>
            <div>
                <h2>Overwrite Matrix Color:</h2></br>
                <a class="button" selected="false" onclick="sendData('set-helmet=0000FF');">Blue</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=00FF00');">Green</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=FF0000');">Red</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=FFA500');">Orange</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=FFFF00');">Yellow</a>
                <a class="button" selected="false" onclick="sendData('set-helmet=FFC0CB');">Pink</a>
            </div>
        </div>
    </section>
    <section class="split-right">
        <div class="flex">
            <h2>Play Audio:</h2>
            <div class="file-list" files-found="true">
                <span class="status-no-files">No Files Found! Check the SD!</span>
                <a class="button item" selected="false" onclick="playAudio('1');">Sample Audio Track 1</a>
                <a class="button item" selected="false" onclick="playAudio('2');">Sample Audio Track 2</a>
                <a class="button item" selected="false" onclick="playAudio('3');">Sample Audio Track 3</a>
                <a class="button item" selected="false" onclick="playAudio('2');">Sample Audio Track 2</a>
                <a class="button item" selected="false" onclick="playAudio('3');">Sample Audio Track 3</a>
                <a class="button item" selected="false" onclick="playAudio('2');">Sample Audio Track 2</a>
                <a class="button item" selected="false" onclick="playAudio('3');">Sample Audio Track 3</a>
                <a class="button item" selected="false" onclick="playAudio('2');">Sample Audio Track 2</a>
                <a class="button item" selected="false" onclick="playAudio('3');">Sample Audio Track 3</a>
            </div>
            <a class="button" onclick="playAudio('0');">Stop Playing</a>
        </div>
        <div>
            <h2>Motor Controls</h2>
            <div>
                <span>Helmet Fan:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-fan">
                <span>50%</span>
            </div>
            <div>
                <span>Left Wing:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-leftwing">
                <span>50%</span>
            </div>
            <div>
                <span>Right Wing:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-rightwing">
                <span>50%</span>
            </div>
        </div>
        <div>
            <h2>LED Brightness Controls</h2>
            <h3>The Helmet:</h3>
            <div>
                <span>Mouth:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Headband:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Left Eye:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Right Eye:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Forehead:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Rings:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <h3>The Torso:</h3>
            <div>
                <span>Center:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <h3>The Wings:</h3>
            <div>
                <span>Left Wing:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
            <div>
                <span>Right Wing:</span>
                <input type="range" min="0" max="100" value="50" class="slider" id="set-helmet-brightness">
                <span>50%</span>
            </div>
        </div>
    </section>
    <script>
        function sendData(data) {
            fetch('/ajax', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: 'plain=' + encodeURIComponent(data),
            }).then(response => response.text()).then(result => {
                console.log('Server response:', result);
            }).catch(error => {
                console.error('Error:', error);
            });
        }
        function playAudio(audioFile) {
            sendData(`play-audio=${audioFile}`);
        }
        Array.from(document.getElementsByClassName('slider')).forEach(slider => {
            slider.value = slider.getAttribute('value');
            slider.addEventListener('input', function (e) {
                slider.parentNode.children[2].textContent = `${slider.value}%`;
            });
            slider.addEventListener('change', function (e) {
                sendData(`${slider.getAttribute('id')}=${slider.value / 100}`);
            });
        });
    </script>
</body>
<footer>
    <span>Welcome to Neondra's control panel, powered by an ESP8266!</span>
</footer>
</html>